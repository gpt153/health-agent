# ============================================================================
# Configuration Validation
# ============================================================================
# This project uses Pydantic Settings for configuration validation.
# Invalid configuration will cause the application to fail at startup with
# clear error messages about what needs to be fixed.
#
# REQUIRED fields must be set or the application won't start.
# Optional fields have defaults but can be overridden.
# ============================================================================

# Telegram (REQUIRED)
# Get bot token from @BotFather: https://t.me/botfather
# Token format: 123456789:ABC-DEF_GHI (validated at startup)
TELEGRAM_BOT_TOKEN=your_bot_token_from_botfather

# Get your user ID from @userinfobot: https://t.me/userinfobot
# IDs must be numeric, comma-separated (validated at startup)
ALLOWED_TELEGRAM_IDS=123456789,987654321

# Topic filter for shared groups (optional)
# - 'all' (default): Respond to all topics and DMs
# - 'none': Only respond to DMs
# - '123,456': Whitelist - only these topics
# - '!123,456': Blacklist - all except these
TELEGRAM_TOPIC_FILTER=all

# Database (REQUIRED)
# Must be a valid PostgreSQL URL (validated at startup)
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:postgres@localhost:5436/health_agent

# Vision AI (REQUIRED based on model selection)
# If VISION_MODEL or AGENT_MODEL uses 'openai:', OPENAI_API_KEY is required
# If VISION_MODEL or AGENT_MODEL uses 'anthropic:', ANTHROPIC_API_KEY is required
# Get OpenAI key: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-...

# Get Anthropic key: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-...

# Model Selection (validated at startup)
# Must have corresponding API key set
VISION_MODEL=openai:gpt-4o-mini
AGENT_MODEL=anthropic:claude-3-5-sonnet-latest

# Storage (optional)
# Directory for data storage (default: ./data)
DATA_PATH=./data

# Logging (optional)
# Valid values: DEBUG, INFO, WARNING, ERROR, CRITICAL (validated at startup)
LOG_LEVEL=INFO

# USDA Nutrition Database API (https://fdc.nal.usda.gov/)
# Get your API key at: https://fdc.nal.usda.gov/api-key-signup.html
USDA_API_KEY=JGi9EFrDLdyFK4wvqa8Uoxjg1uagMnae4ICqI1Y6
ENABLE_NUTRITION_VERIFICATION=true

# REST API Configuration (optional)
# Valid values: bot, api, both (validated at startup)
RUN_MODE=bot

# API server host (default: 0.0.0.0)
API_HOST=0.0.0.0

# API server port (1-65535, validated at startup)
API_PORT=8080

# Comma-separated API keys for authentication (optional)
API_KEYS=test_key_123,scar_key_456,po_key_789

# Comma-separated CORS origins (optional)
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
